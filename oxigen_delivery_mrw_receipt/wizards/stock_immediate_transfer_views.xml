<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="view_immediate_transfer_mrw_in" model="ir.ui.view">
        <field name="name">stock.immediate.transfer.view.form.in</field>
        <field name="model">stock.immediate.transfer</field>
        <field name="arch" type="xml">
            <form string="Immediate transfer?">
                <field name="pick_ids" invisible="1" />
                <field name="mrw_is_in_picking" invisible="1" />
                <field name="immediate_transfer_line_ids" invisible="1">
                 <tree create="0" delete="0" editable="top">
                        <field name="picking_id" />
                    </tree>
                </field>
                <group>
                    <field name="number_of_packages" />
                </group>
                <p
                    name="mrw_address_text"
                    attrs="{'invisible': ['|',('mrw_to_address', '=', False),('mrw_is_in_picking', '=', False)]}"
                >
                    Check that the addresses sent to MRW is correct, otherwise you should
                    change them in the partner form. Try to put street and number in the
                    first address line, and floor and door number in the second one.
                </p>
                <group
                    name="mrw_address"
                    attrs="{'invisible': ['|',('mrw_to_address', '=', False),('mrw_is_in_picking', '=', False)]}"
                >
                    <field name="mrw_to_address" />
                </group>
                <footer>
                    <button
                        name="mrw_send_shipping"
                        string="Create MRW Receipt"
                        type="object"
                        class="btn-primary"
                    />
                    <button string="Cancel" class="btn-secondary" special="cancel" />
                </footer>
            </form>
        </field>
    </record>
    <record id="mrw_view_immediate_transfer_out" model="ir.ui.view">
        <field name="name">stock.immediate.transfer.view.form.out</field>
        <field name="model">stock.immediate.transfer</field>
        <field name="inherit_id" ref="delivery_mrw.mrw_view_immediate_transfer" />
        <field name="arch" type="xml">
            <field name="pick_ids" position="after">
                <field name="mrw_is_in_picking" invisible="1" />
            </field>
            <xpath expr="//p[@name='mrw_address_text']" position="attributes">
                <attribute
                    name="attrs"
                >{'invisible': ['|',('mrw_to_address', '=', False),('mrw_is_in_picking', '=', True)]}</attribute>
            </xpath>
            <group name="mrw_address" position="attributes">
                <attribute
                    name="attrs"
                >{'invisible': ['|',('mrw_to_address', '=', False),('mrw_is_in_picking', '=', True)]}</attribute>
            </group>
        </field>
    </record>
</odoo>
